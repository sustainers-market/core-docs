{
  "steps": [
    {
      "name": "gcr.io/cloud-builders/git",
      "entrypoint": "bash",
      "args": [
        "-c",
        "git clone https://github.com/Mermade/shins.git docs && cd docs"
      ]
    },
    {
      "name": "node:10.16.0",
      "entrypoint": "bash",
      "args": ["-c", "npm install"]
    },
    {
      "name": "node:10.16.0",
      "entrypoint": "bash",
      "args": ["-c", "npm install widdershins"]
    },
    {
      "name": "node:10.16.0",
      "entrypoint": "bash",
      "args": [
        "-c",
        "node widdershins --language_tabs 'node:Node' --summary ../doc.json -o source/index.html.md"
      ]
    },
    {
      "name": "node:10.16.0",
      "entrypoint": "bash",
      "args": ["-c", "node docs/shins.js --minify"]
    },
    {
      "name": "gcr.io/cloud-builders/gcloud",
      "entrypoint": "bash",
      "args": [
        "-c",
        "gcloud -m -rsync -rcd ./docs gs://docs.core.sustainers.net"
      ]
    }
  ]
}
